# Airflow Pipeline

Разработка пайплайна для обучения ML-модели.

```
├─📁 dags ------------- # шаблон DAG’а
│ └─ ...
├─📁 data ------------- # данные
│ ├─📁 models --------- # ML-модели
│ ├─📁 predictions ---- # предсказаний
│ ├─📁 test ----------- # для тестирования
│ └─📁 train ---------- # для обучения
├─📁 modules
│ ├─📄 pipeline.py ---- # код ML-модели
│ └─📄 predict.py ----- # скрипта для прогноза

```

### Apache Airflow

Платформа позволяет контролировать создания, выполнения, мониторинга и оркестровки потоков операций по обработке данных.

`airflow db init # create db`

```
# create default  admin
airflow users create \
    --username airflow \
    --firstname Airflow \
    --lastname Apache \
    --role Admin \
    --email airflow@example.com \
    --password airflow
```

### Хуки

Хуки - это скрипты, которые автоматически выполняются при наступлении определённых событий.

[Pre-commit](https://pre-commit.com/) - это фреймворк для запуска хуков (инструментов) перед созданием коммита. Pre-commit использует файл конфигурации, чтобы определить, какие хуки запускать и как их запускать. Используется для обеспечения согласованности и единообразного форматирования всех файлов.

`pre-commit install`(добавить прекоммит)

`pre-commit run --all-files`(запустить без коммита)

`git commit --no-verify` (пропустить выполнение хука при коммите)
